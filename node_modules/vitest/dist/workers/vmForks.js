import v8 from 'node:v8';
<<<<<<< HEAD
import { c as createForksRpcOptions, u as unwrapSerializableConfig } from '../vendor/utils.0uYuCbzo.js';
import { r as runVmTests } from '../vendor/vm.QEE48c0T.js';
=======
import { c as createForksRpcOptions, u as unwrapForksConfig } from '../vendor/utils.GbToHGHI.js';
import { r as runVmTests } from '../vendor/vm.9N6CwTZh.js';
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
import '@vitest/utils';
import 'node:vm';
import 'node:url';
import 'pathe';
<<<<<<< HEAD
import '../chunks/runtime-console.EO5ha7qv.js';
=======
import '../chunks/runtime-console.Iloo9fIt.js';
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
import 'node:stream';
import 'node:console';
import 'node:path';
import '../vendor/date.Ns1pGd_X.js';
<<<<<<< HEAD
import '@vitest/runner/utils';
import '../vendor/global.CkGT_TMy.js';
import '../vendor/env.AtSIuHFg.js';
import 'std-env';
import '../vendor/execute.fL3szUAI.js';
import 'node:fs';
=======
import '../vendor/execute.edwByI27.js';
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
import 'vite-node/client';
import 'vite-node/utils';
import '@vitest/utils/error';
import '../path.js';
<<<<<<< HEAD
import '../vendor/base.5NT-gWu5.js';
import 'node:module';
import 'vite-node/constants';
=======
import 'node:fs';
import '../vendor/base.QYERqzkH.js';
import 'node:module';
import 'vite-node/constants';
import '../vendor/index.rJjbcrrp.js';
import 'std-env';
import '@vitest/runner/utils';
import '../vendor/global.CkGT_TMy.js';
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1

class ForksVmWorker {
  getRpcOptions() {
    return createForksRpcOptions(v8);
  }
  async runTests(state) {
    const exit = process.exit;
<<<<<<< HEAD
    state.ctx.config = unwrapSerializableConfig(state.ctx.config);
=======
    state.ctx.config = unwrapForksConfig(state.ctx.config);
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
    try {
      await runVmTests(state);
    } finally {
      process.exit = exit;
    }
  }
}
var vmForks = new ForksVmWorker();

export { vmForks as default };
