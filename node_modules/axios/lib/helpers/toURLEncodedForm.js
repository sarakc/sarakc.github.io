'use strict';

import utils from '../utils.js';
import toFormData from './toFormData.js';
import platform from '../platform/index.js';

export default function toURLEncodedForm(data, options) {
<<<<<<< HEAD
  return toFormData(data, new platform.classes.URLSearchParams(), {
=======
  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
    visitor: function(value, key, path, helpers) {
      if (platform.isNode && utils.isBuffer(value)) {
        this.append(key, value.toString('base64'));
        return false;
      }

      return helpers.defaultVisitor.apply(this, arguments);
<<<<<<< HEAD
    },
    ...options
  });
=======
    }
  }, options));
>>>>>>> fd0cd07a55af4b1604432e584ca3d417e31428d1
}
